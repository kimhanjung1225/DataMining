ë„ì „ 1: ë‚˜ë§Œì˜ ë‹¨ì–´ ë²¡í„° ë§Œë“¤ê¸°
ì¢‹ì•„í•˜ëŠ” K-POP ê·¸ë£¹ 5ê°œë¥¼ [ë…¸ë˜, ì¶¤] ì ìˆ˜ë¡œ ë²¡í„°í™”í•˜ê³ ,
ê°€ì¥ ë¹„ìŠ·í•œ ë‘ ê·¸ë£¹ì„ ì°¾ì•„ë³´ì„¸ìš”!
### ë„ì „ 2: ì¹œêµ¬ ë¦¬ë·° ë¶„ì„
ì¹œêµ¬ 10ëª…ì—ê²Œ ì¢‹ì•„í•˜ëŠ” ìŒì‹ì— ëŒ€í•œ í•œ ì¤„ í‰ì„ ë°›ì•„ì„œ,
Bag of Wordsë¡œ ë²¡í„°í™”í•˜ê³  ëˆ„ê°€ ë¹„ìŠ·í•œ ì·¨í–¥ì¸ì§€ ì°¾ì•„ë³´ì„¸ìš”!

# ============================================================================
# ğŸ”¥ ë„ì „ 1: ë‚˜ë§Œì˜ ë‹¨ì–´ ë²¡í„° ë§Œë“¤ê¸° - K-POP ê·¸ë£¹ ìœ ì‚¬ë„
# ============================================================================

print("\n" + "="*60)
print("ğŸ”¥ ë„ì „ 1: K-POP ê·¸ë£¹ì„ ë²¡í„°ë¡œ í‘œí˜„í•˜ê³  ìœ ì‚¬ë„ ë¹„êµí•˜ê¸°")
print("="*60)

print("""
[ì„¤ëª…]
ì¢‹ì•„í•˜ëŠ” K-POP ê·¸ë£¹ 5ê°œë¥¼ ê³¨ë¼ì„œ
[ë…¸ë˜, ì¶¤] ì ìˆ˜(1~10)ë¥¼ ì£¼ê³  ë²¡í„°ë¡œ í‘œí˜„í•œ ë’¤,
ê°€ì¥ ë¹„ìŠ·í•œ ë‘ ê·¸ë£¹ì„ ì°¾ì•„ë´…ë‹ˆë‹¤!

â€» ì•„ë˜ ì˜ˆì‹œëŠ” ì„ì˜ë¡œ ë„£ì€ ê°’ì…ë‹ˆë‹¤.
   ì§ì ‘ ì¢‹ì•„í•˜ëŠ” ê·¸ë£¹ìœ¼ë¡œ ë°”ê¿” ë³´ì„¸ìš” :)
""")

# K-POP ê·¸ë£¹ ë²¡í„° ì˜ˆì‹œ: [ë…¸ë˜, ì¶¤]
kpop_groups = {
    "NewJeans": [9, 8],
    "IVE": [8, 7],
    "LE SSERAFIM": [7, 9],
    "SEVENTEEN": [8, 9],
    "NCT": [7, 8]
}

print("\nK-POP ê·¸ë£¹ ë²¡í„°:")
for name, vec in kpop_groups.items():
    print(f"  {name}: {vec}")

# ëª¨ë“  ê·¸ë£¹ ìŒì˜ ì½”ì‚¬ì¸ ìœ ì‚¬ë„ ê³„ì‚°
group_names = list(kpop_groups.keys())
best_pair = None
best_similarity = -1  # ê°€ì¥ í° ìœ ì‚¬ë„ ì°¾ê¸°

print("\n[ì‹¤ìŠµ] ê·¸ë£¹ ìŒë³„ ì½”ì‚¬ì¸ ìœ ì‚¬ë„:")
for i in range(len(group_names)):
    for j in range(i + 1, len(group_names)):
        g1 = group_names[i]
        g2 = group_names[j]
        v1 = kpop_groups[g1]
        v2 = kpop_groups[g2]
        sim = cosine_sim(v1, v2)
        print(f"  {g1} â†” {g2}: {sim:.3f}")
        if sim > best_similarity:
            best_similarity = sim
            best_pair = (g1, g2)

print("\nâœ… ê°€ì¥ ë¹„ìŠ·í•œ ë‘ ê·¸ë£¹:")
print(f"  {best_pair[0]} â†” {best_pair[1]} (ì½”ì‚¬ì¸ ìœ ì‚¬ë„: {best_similarity:.3f})")

# ì„ íƒ: 2ì°¨ì› í‰ë©´ì— ì‹œê°í™”
plt.figure(figsize=(8, 6))
for name, vec in kpop_groups.items():
    x, y = vec
    plt.scatter(x, y, s=200, alpha=0.7)
    plt.annotate(name, (x, y), fontsize=12, ha='center', va='bottom')

plt.xlabel("ë…¸ë˜ (Vocal / Song)", fontsize=12)
plt.ylabel("ì¶¤ (Dance / Performance)", fontsize=12)
plt.title("K-POP ê·¸ë£¹ [ë…¸ë˜, ì¶¤] ë²¡í„° ì‹œê°í™”", fontsize=14, fontweight='bold')
plt.grid(True, alpha=0.3)
plt.xlim(0, 11)
plt.ylim(0, 11)
plt.show()
     

# ============================================================================
# ğŸ”¥ ë„ì „ 2: ì¹œêµ¬ ìŒì‹ ë¦¬ë·° ë¶„ì„ - Bag of Words + ì½”ì‚¬ì¸ ìœ ì‚¬ë„
# ============================================================================

print("\n" + "="*60)
print("ğŸ”¥ ë„ì „ 2: ì¹œêµ¬ 10ëª…ì˜ ìŒì‹ ë¦¬ë·° ì·¨í–¥ ë¶„ì„")
print("="*60)

print("""
[ì„¤ëª…]
ì¹œêµ¬ 10ëª…ì—ê²Œ 'ì¢‹ì•„í•˜ëŠ” ìŒì‹'ì— ëŒ€í•œ í•œ ì¤„ ë¦¬ë·°ë¥¼ ë°›ì•˜ë‹¤ê³  ê°€ì •í•˜ê³ ,
Bag of Words ë°©ì‹ìœ¼ë¡œ ë²¡í„°í™”í•œ ë’¤,
ì„œë¡œ ê°€ì¥ ì·¨í–¥ì´ ë¹„ìŠ·í•œ ì¹œêµ¬ ìŒì„ ì°¾ì•„ë´…ë‹ˆë‹¤.

â€» ì‹¤ì œë¡œëŠ” ì¹œêµ¬ ë¦¬ë·°ë¥¼ ì§ì ‘ ë°›ì•„ì„œ ì•„ë˜ ë”•ì…”ë„ˆë¦¬ë¥¼ ìˆ˜ì •í•˜ë©´ ë©ë‹ˆë‹¤.
""")

friends_reviews = {
    "Friend1": "ë§¤ìš´ ìŒì‹ì´ ë„ˆë¬´ ì¢‹ì•„ìš”",
    "Friend2": "ë‹¬ì½¤í•œ ë””ì €íŠ¸ë¥¼ ì •ë§ ì¢‹ì•„í•´ìš”",
    "Friend3": "ë‹´ë°±í•œ í•œì‹ì„ ì œì¼ ì¢‹ì•„í•©ë‹ˆë‹¤",
    "Friend4": "ê¸°ë¦„ì§„ íŒ¨ìŠ¤íŠ¸í‘¸ë“œë¥¼ ìì£¼ ë¨¹ì–´ìš”",
    "Friend5": "í•´ì‚°ë¬¼ ìš”ë¦¬ë¥¼ íŠ¹íˆ ì¢‹ì•„í•´ìš”",
    "Friend6": "ë§¤ìš´ ì¹˜í‚¨ê³¼ ë–¡ë³¶ì´ë¥¼ ì‚¬ë‘í•©ë‹ˆë‹¤",
    "Friend7": "ìƒëŸ¬ë“œ ê°™ì€ ê°€ë²¼ìš´ ìŒì‹ì„ ì¢‹ì•„í•´ìš”",
    "Friend8": "ë‹¬ì½¤í•œ ì¼€ì´í¬ì™€ ë¹µì„ ìì£¼ ë¨¹ì–´ìš”",
    "Friend9": "ëœ¨ëˆí•œ êµ­ë¬¼ ìš”ë¦¬ë¥¼ ì¢‹ì•„í•´ìš”",
    "Friend10": "ì¹˜ì¦ˆ ë“¬ë¿ ë“¤ì–´ê°„ í”¼ìë¥¼ ì œì¼ ì¢‹ì•„í•´ìš”"
}

print("\nì¹œêµ¬ë“¤ì˜ ë¦¬ë·°:")
for name, review in friends_reviews.items():
    print(f"  {name}: {review}")

# 1. ë‹¨ì–´ ì‚¬ì „(vocabulary) ë§Œë“¤ê¸°
all_food_words = []
for review in friends_reviews.values():
    all_food_words.extend(review.split())

vocab = sorted(set(all_food_words))
print(f"\në‹¨ì–´ ì‚¬ì „ (vocabulary): {vocab}")
print(f"(ì´ {len(vocab)}ê°œ ë‹¨ì–´)\n")

# 2. ê° ë¦¬ë·°ë¥¼ Bag of Words ë²¡í„°ë¡œ ë³€í™˜
friend_vectors = {}

print("[ì‹¤ìŠµ] ê° ì¹œêµ¬ ë¦¬ë·°ì˜ ë²¡í„° í‘œí˜„:")
for name, review in friends_reviews.items():
    words = review.split()
    vector = [words.count(word) for word in vocab]
    friend_vectors[name] = vector

    print(f"\n{name}: '{review}'")
    print(f"  ë²¡í„°: {vector}")
    print(f"  ì˜ë¯¸: ", end="")
    for i, word in enumerate(vocab):
        if vector[i] > 0:
            print(f"{word}({vector[i]}ë²ˆ) ", end="")
    print()

# 3. ì¹œêµ¬ë“¤ ê°„ ì·¨í–¥ ìœ ì‚¬ë„(ì½”ì‚¬ì¸ ìœ ì‚¬ë„) ê³„ì‚°
friend_names = list(friends_reviews.keys())
max_similarity = -1
most_similar_pair = None

print("\n[ì‹¤ìŠµ] ì¹œêµ¬ ìŒë³„ ì½”ì‚¬ì¸ ìœ ì‚¬ë„:")
for i in range(len(friend_names)):
    for j in range(i + 1, len(friend_names)):
        f1 = friend_names[i]
        f2 = friend_names[j]
        v1 = friend_vectors[f1]
        v2 = friend_vectors[f2]
        sim = cosine_sim(v1, v2)
        print(f"  {f1} â†” {f2}: {sim:.3f}")
        if sim > max_similarity:
            max_similarity = sim
            most_similar_pair = (f1, f2)

print("\nâœ… ìŒì‹ ì·¨í–¥ì´ ê°€ì¥ ë¹„ìŠ·í•œ ì¹œêµ¬ ìŒ:")
print(f"  {most_similar_pair[0]} â†” {most_similar_pair[1]} (ì½”ì‚¬ì¸ ìœ ì‚¬ë„: {max_similarity:.3f})")

# ì„ íƒ: ìœ ì‚¬ë„ í–‰ë ¬ë¡œ Heatmap ì‹œê°í™” (ì˜µì…˜)
n = len(friend_names)
similarity_matrix = np.zeros((n, n))

for i in range(n):
    for j in range(n):
        v1 = friend_vectors[friend_names[i]]
        v2 = friend_vectors[friend_names[j]]
        similarity_matrix[i][j] = cosine_sim(v1, v2)

plt.figure(figsize=(10, 8))
plt.imshow(similarity_matrix, cmap='YlOrRd', aspect='auto')
plt.colorbar(label='Cosine Similarity')
plt.xticks(range(n), friend_names, rotation=45)
plt.yticks(range(n), friend_names)
plt.title('ì¹œêµ¬ ìŒì‹ ì·¨í–¥ ìœ ì‚¬ë„ Heatmap', fontsize=14, fontweight='bold')

for i in range(n):
    for j in range(n):
        plt.text(j, i, f"{similarity_matrix[i][j]:.2f}",
                 ha='center', va='center',
                 color='black' if similarity_matrix[i][j] < 0.5 else 'white')

plt.tight_layout()
plt.show()
     